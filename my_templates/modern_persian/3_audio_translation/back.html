<!-- Back html for the modern_persian note type - card 3_audio_translation -->

<div class="modern">
  <div class="modern-head">
    <div class="modern-deck">{{Deck}}</div>
  </div>
  <div class="modern-body">
    <div class="modern-center">
      <div class="modern-languages-flags"></div>
      <div class="modern-audio">{{Audio}}</div>
      <div class="modern-languages-persian">{{Persisch}}</div>
      <div class="modern-languages-romanization">{{Romanisierung}}</div>
      <div class="modern-languages-hint">
        <div>{{Hinweis-Bedeutung}}</div>
      </div>
      <hr id="answer" />
      <div class="modern-languages-translation">{{Deutsch}}</div>
    </div>
  </div>
</div>

<script>
  // Breadcrumbs to current deck
  var deckEl = document.querySelector(".modern-deck");
  var subDecks = deckEl.innerHTML.split("::").filter(Boolean);
  html = [];
  subDecks.forEach((subDeck) => {
    html.push("<span class='modern-subdeck'>" + subDeck + "</span>");
  });
  deckEl.innerHTML = html.join("&nbsp;/&nbsp;");
</script>

<script>
  // Script for setting language flags
  var tagsString = "{{Tags}}";
  var targetLanguage = "";
  var translationLanguage = "";

  var allTagsArray = tagsString.split(" "); // Split tags string into an array

  // Loop through tags to find target and translation languages
  for (var i = 0; i < allTagsArray.length; i++) {
    if (allTagsArray[i].startsWith("languages::target::")) {
      targetLanguage = allTagsArray[i].substring("languages::target::".length);
    } else if (allTagsArray[i].startsWith("languages::translation::")) {
      translationLanguage = allTagsArray[i].substring(
        "languages::translation::".length,
      );
    }
  }

  // Language to Flag Emoji Map
  var languageToEmojiMap = {
    persian: "ðŸ‡®ðŸ‡·",
    german: "ðŸ‡©ðŸ‡ª",
    spanish: "ðŸ‡ªðŸ‡¸",
  };

  // Get the flag emojis for the found languages
  var targetFlagEmoji = languageToEmojiMap[targetLanguage] || ""; // Default to empty if language not in map
  var translationFlagEmoji = languageToEmojiMap[translationLanguage] || ""; // Default to empty if language not in map

  var flagsDisplayElement = document.querySelector(".modern-languages-flags");

  if (targetFlagEmoji && translationFlagEmoji) {
    flagsDisplayElement.innerHTML =
      targetFlagEmoji + " â†’ " + translationFlagEmoji;
  } else {
    flagsDisplayElement.innerHTML = "Flag not found for one or both languages.";
  }
</script>
