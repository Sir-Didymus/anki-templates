<!-- Back html for the shared_spanisch_5000 note type - card "german_spanish" -->

<div class="modern-languages-flags"></div>
<div class="deutsch">{{Deutsch}}</div>

<hr id="answer" />

<div class="spanisch">{{Spanisch}}</div>

{{#AudioS}}
<br />
{{AudioS}}
<br />
{{/AudioS}}

<br />

{{#Beispiel}}
<a
  class="hint"
  href="#"
  onclick="this.style.display='none';document.getElementById('hint4753594160').style.display='inline-block';return false;"
  >Seite 3</a
>

<div id="hint4753594160" class="hint" style="display: none">
  <div class="s3">
    {{Beispiel}} {{#Bild3}}
    <br />
    Audio Seite 3: {{Bild3}}
    <br />
    {{/Bild3}}
    <br />
    <div class="einheit" id="einheitContent">
      Einheit {{Einheit}}, Rang {{ID}}
    </div>
  </div>
</div>
{{/Beispiel}}
<br /><br />
{{Bild4}}

<script>
  // Script for setting language flags
  var tagsString = "{{Tags}}";
  var targetLanguage = "";
  var translationLanguage = "";

  var allTagsArray = tagsString.split(" "); // Split tags string into an array

  // Loop through tags to find target and translation languages
  for (var i = 0; i < allTagsArray.length; i++) {
    if (allTagsArray[i].startsWith("languages::target::")) {
      targetLanguage = allTagsArray[i].substring("languages::target::".length);
    } else if (allTagsArray[i].startsWith("languages::translation::")) {
      translationLanguage = allTagsArray[i].substring(
        "languages::translation::".length,
      );
    }
  }

  // Language to Flag Emoji Map
  var languageToEmojiMap = {
    persian: "🇮🇷",
    german: "🇩🇪",
    spanish: "🇪🇸",
    latin: "🏛️🌿",
  };

  // Get the flag emojis for the found languages
  var targetFlagEmoji = languageToEmojiMap[targetLanguage] || ""; // Default to empty if language not in map
  var translationFlagEmoji = languageToEmojiMap[translationLanguage] || ""; // Default to empty if language not in map

  var flagsDisplayElement = document.querySelector(".modern-languages-flags");

  if (targetFlagEmoji && translationFlagEmoji) {
    flagsDisplayElement.innerHTML =
      translationFlagEmoji + " → " + targetFlagEmoji;
  } else {
    flagsDisplayElement.innerHTML = "Flag not found for one or both languages.";
  }
</script>

<script>
  // Plays the first audio element on the page.
  // This is useed in conjunction with disabling audio autoplay in the Anki settings.
  // This way, only the first audio of the card played automatically.
  var elem = document.querySelector(".soundLink, .replaybutton"); // AnkiMobile & AnkiDroid / AnkiDesktop
  if (elem) {
    elem.click();
  } else {
    window.onload = function () {
      var elem = document.querySelector(".soundLink, .replaybutton");
      if (elem) {
        elem.click();
      }
    };
  }
</script>
